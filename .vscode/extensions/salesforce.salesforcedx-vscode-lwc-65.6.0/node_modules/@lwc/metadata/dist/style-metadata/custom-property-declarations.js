'use strict';

var utils = require('../shared/utils.js');
var utils$1 = require('./utils.js');

// Copyright (c) 2025, Salesforce, Inc.,
// All rights reserved.
// For full license text, see the LICENSE.txt file
const createCustomProperty = (prop) => ({
    name: prop,
    locations: [],
});
function collectCustomPropertyDeclarations(result, root) {
    const customPropertyMap = new Map();
    root.walkDecls((decl) => {
        // Early exit if the declaration property doesn't start with '--'.
        // This avoid parsing the selector when not needed.
        if (!decl.prop.startsWith('--')) {
            return;
        }
        const { source, prop } = decl;
        let customProperty = customPropertyMap.get(prop);
        if (utils.isUndefined(customProperty)) {
            customProperty = createCustomProperty(prop);
            customPropertyMap.set(prop, customProperty);
        }
        customProperty.locations.push(utils$1.getReferenceLocation(source, source.start.offset, prop.length));
    });
    result.customPropertyDeclarations.push(...customPropertyMap.values());
}

exports.collectCustomPropertyDeclarations = collectCustomPropertyDeclarations;
//# sourceMappingURL=custom-property-declarations.js.map
